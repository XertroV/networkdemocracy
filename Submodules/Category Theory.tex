%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Category theory macros %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Categories names are the last section.



%% Basics
	\newcommand{\id}[1]{id_{#1}} % Identity morphism of object #1
	\newcommand{\obj}[1]{\operatorname{obj} \, #1} % Set of objects of category #1
	\newcommand{\homset}[3]{\operatorname{Hom}\left[#2,#3\right]} % Set of morphisms in category #1 from object #2 to object #3
	\newcommand{\OpCategory}[1]{#1^{\operatorname{op}}} % Op-category of category #1
	
	
	
%% Morphisms 
	\newcommand{\isom}{\cong} % Isomorphism
	\newcommand{\iso}{\cong} % Another definition for isomorphism
	\newcommand{\epim}{\twoheadrightarrow} % Epimorphism
	\newcommand{\monom}{\rightarrowtail} % Monomorphism
	\newcommand{\pushforward}[1]{#1_\star} % Pushforward associated with morphism #1
	\newcommand{\pullback}[1]{#1^\star} % Pullback associated with morphism #1



%% Monoidal categories
	\newcommand{\tensor}{\otimes} % Monoidal tensor
	\newcommand{\tensorUnit}{I} % Monoidal tensor unit
	\newcommand{\cartesianTensor}{\times} % Cartesian product



%% Homsets (Extended)
	\newcommand{\Hom}[3]{\operatorname{Hom}_{\,#1}\left[#2,#3\right]} % Set of morphisms in category #1 from object #2 to object #3
	\newcommand{\Nat}[3]{\operatorname{Nat}_{#1}[#2,#3]} % Set of natural transformations in functor category #1 from functor #2 to functor #3
	\newcommand{\Endoms}[2]{\operatorname{End}_{\,#1}\left[#2\right]} % Set of endomorphisms in category #1 for object #2
	\newcommand{\Automs}[2]{\operatorname{Aut}_{\,#1}\left[#2\right]} % Set of autoomorphisms in category #1 for object #2
	\newcommand{\Subobjs}[2]{\operatorname{Sub}_{#1}[#2]} % Set of subobjects (usually mono) in category #1 for object #2
	\newcommand{\Subsys}[2]{\operatorname{Subsys}_{#1}[#2]} % Set of subsystems (not necessarily mono) in category #1 for object #2
	\newcommand{\States}[2]{\operatorname{States}_{#1}[#2]} % Set of states in (monoidal) category #1 for object #2 



%% Category operators and functors. Can be called outside math mode.
	\newcommand{\FullSubcat}[2]{\definition{\langle #2 \rangle_{#1}}} % The full subcategory of #1 generated by #2
	\newcommand{\SliceCat}[2]{\definition{#1 / #2}} % Slice category obtained from category #1 over objects #2
	\newcommand{\CosliceCat}[2]{\definition{#2 \backslash #1}} % Co-slice category obtained from category #1 over objects #2
	\newcommand{\Symmetries}[1]{\definition{\Automs{#1}{\emptyArg}}}  % Category of symmetries of objects of category #1
	\newcommand{\LocaleCategory}[1]{\definition{\mathcal{O}(#1)}} % Locale category of topological space #1



%% CQM Operators 
	\newcommand{\CPMCategory}[1]{\definition{\operatorname{CPM}[#1]}} % Selinger's CPM category
	\newcommand{\CPCategory}[1]{\definition{\operatorname{CP}[#1]}} % Bob/Chris's conjugation-independent CP construction 
	\newcommand{\CPStarCategory}[1]{\definition{\operatorname{CP}^\star[#1]}} % Chris's CP star construction 
	\newcommand{\ClassicalCategory}[1]{\definition{\operatorname{K}[#1]}} % Category with the same morphisms of #1, but objects pairs (object, classical structure) 



%%%%%%%%%%%%%%%%%%%%
%% Category Names %%
%%%%%%%%%%%%%%%%%%%%
%% This is organized by area of mathematics.
%% The most used categories come first in each area.


% Defines the standard style for a category (bold)
\newcommand{\catname}[1]{{\bf #1}}



% General-purpose category names
	\newcommand{\CategoryC}{\definition{\mathcal{C}}} % General purpose category 'C'
	\newcommand{\CategoryD}{\definition{\mathcal{D}}} % General purpose category 'D'

	\newcommand{\PshCCategory}{\definition{\catname{Set}^{\OpCategory{\mathcal{C}}}}} % General purpose presheaf on 'C'
	\newcommand{\PshDCategory}{\definition{\catname{Set}^{\OpCategory{\mathcal{D}}}}} % General purpose presheaf on 'D'



% Set & Set-like Categories
	\newcommand{\SetCategory}{\definition{\catname{Set}}} % Category of sets and functions
	\newcommand{\SetCategory}{\definition{\catname{fSet}}} % Category of finite sets and total functions
	
	\newcommand{\RelCategory}{\definition{\catname{Rel}}} % Category of sets and relations
	\newcommand{\fRelCategory}{\definition{\catname{fRel}} % Category of finite sets and relations
	
	\newcommand{\PshCategory}[1]{\definition{\SetCategory^{\OpCategory{#1}}}} % Presheaves on #1
	\newcommand{\PshvarCategory}[1]{\definition{\left[\OpCategory{#1},\SetCategory\right]}} % Alternative notation for presheaves on #1
	
	\newcommand{\PreordCategory}{\definition{\catname{Preord}}} % Category of preorders
	\newcommand{\PosCategory}{\definition{\catname{Pos}}} % Category of partial orders
	
	\newcommand{\PInjCategory}{\definition{\catname{SetPInj}}} % Category of sets and partial injections
	\newcommand{\fPInjCategory}{\definition{\catname{fSetPInj}}} % Category of finite sets and partial injections
	\newcommand{\fBijCategory}{\definition{\catname{fSetBij}}} % Category of finite sets and bijections
	\newcommand{\fInjCategory}{\definition{\catname{fSetInj}}} % Category of finite sets and injections
	\newcommand{\fPFunCategory}{\definition{\catname{fSetPFun}}} % Category of finite sets and partial functions
	
	
	
% Geometry
	\newcommand{\DiffCategory}{\definition{\catname{Diff}}} % Category of differentiable manifolds
	\newcommand{\TopCategory}{\definition{\catname{Top}}} % Category of topological spaces
	
	
	
% Algebra 
	\newcommand{\GrpCategory}{\definition{\catname{Grp}}} % Category of groups
	\newcommand{\fGrpCategory}{\definition{\catname{fGrp}}} % Category of finite groups
	\newcommand{\AbCategory}{\definition{\catname{Ab}}} % Category of abelian groups
	\newcommand{\fAbCategory}{\definition{\catname{fAb}}} % Category of finite abelian groups
	\newcommand{\fMonCategory}{\definition{\catname{fMon}}} % Category of finite monoids
	\newcommand{\fComMonCategory}{\definition{\catname{fCommMon}}} % Category of finite commutative monoids
	
	
	
% Linear algebra
	\newcommand{\fdVecRealCategory}{\definition{\catname{fdVect}_\reals}} % Category of finite-dimensional vector spaces on the Reals
	
	\newcommand{\HilbCategory}{\definition{\catname{Hilb}}} % Category of Hilbert spaces
	\newcommand{\fdHilbCategory}{\definition{\catname{fdHilb}}} % Category of finite-dimensional Hilbert spaces
	
	\newcommand{\fRfreeModCategory}[1]{\definition{#1\catname{-Mod}_{fd}^{free}}} % Category of finite-dimensional free #1-modules (#1 field, ring, semiring...)
	\newcommand{\fRModCategory}[1]{\definition{#1\catname{-Mod}_{fd}}} % Category of finite-dimensional #1-modules (#1 field, ring, semiring...)
	\newcommand{\RModCategory}[1]{\definition{#1\catname{-Mod}}} % Category of #1-modules (R field, ring, semiring...)
	
	\newcommand{\LinRelCategory}{\definition{\catname{LinRel}}} %Category of linear relations		
	
	\newcommand{\sHilbCategory}{\definition{\catname{sHilb}}} % Category of standard Hilbert spaces
	\newcommand{\starHilbCategory}{\definition{^\star\!\HilbCategory}} % Category of omega-truncated non-standard hilbert spaces
	
	
	
% Universal Algebra
	\newcommand{\SigmaalgCategory}[2]{\definition{\catname{Alg}(#1,#2)}} % Category of Algebras on a signature (#1,#2)
	\newcommand{\SigmaalgCategoryt}[3]{\definition{\catname{Alg}^{#1}(#2,#3)}} % Category of internal Algebras on a signature (#2,#3) in a topos #1
	
	
	
% Higher Category Theory
	\newcommand{\CatCategory}{\definition{\catname{Cat}}} % Category of small categories
	
	
	
% Generalized relations
	\newcommand{\RelqCategory}[1]{\definition{\catname{Rel}(#1)}} % Category of Q-relations
	\newcommand{\SpanqCategory}[1]{\definition{\catname{Span}(#1)}} % Category of Q-spans
	\newcommand{\RelvqCategory}[2]{\definition{\catname{Rel}_{#1}(#2)}} % Category of Algebraic Q-relations
	\newcommand{\SpanvqCategory}[2]{\definition{\catname{Span}_{#1}(#2)}} % Category of Algebraic Q-spans		
	\newcommand{\RelvtqCategory}[3]{\definition{\catname{Rel}^{#1}_{#2}(#3)}} % Category of Algebraic Q-relations over arbitrary topos
	\newcommand{\SpanvtqCategory}[3]{\definition{\catname{Span}^{#1}_{#2}(#3)}} % Category of Algebraic Q-spans  over arbitrary topos
	
	\newcommand{\RelvqCategoryex}[3]{\definition{\catname{Rel}^{\operatorname{#3}}_{#1}(#2)}} % Extend the relational notation for affine, linear and the like
	\newcommand{\RelvqlinCategory}[2]{\RelvqCategoryex{#1}{#2}{lin}} % Linear Relations (in the signature sense)
	\newcommand{\RelvqaffCategory}[2]{\RelvqCategoryex{#1}{#2}{aff}} % Affine relations
	\newcommand{\RelvqrelCategory}[2]{\RelvqCategoryex{#1}{#2}{rel}} % Relevant relations
	\newcommand{\RelvqcartCategory}[2]{\RelvqCategoryex{#1}{#2}{cart}} % Cartesian relations
	\newcommand{\RelvtqlinCategory}[3]{\RelvqCategoryex{#2}{#3}{lin, #1}} % Linear relation in topos #1
	
	\newcommand{\SpanvqCategoryex}[3]{\definition{\catname{Span}^{\operatorname{#3}}_{#1}(#2)}} % Extend the span notation for affine, linear and the like
	\newcommand{\SpanvqlinCategory}[2]{\SpanvqCategoryex{#1}{#2}{lin}} % Linear spans
	\newcommand{\SpanvqaffCategory}[2]{\SpanvqCategoryex{#1}{#2}{aff}} % Affine spans
	\newcommand{\SpanvqrelCategory}[2]{\SpanvqCategoryex{#1}{#2}{rel}} % Relevant spans
	\newcommand{\SpanvqcartCategory}[2]{\SpanvqCategoryex{#1}{#2}{cart}} % Cartesian spans
	\newcommand{\SpanvtqlinCategory}[3]{\SpanvqCategoryex{#2}{#3}{lin, #1}} % Linear spans in topos #1
	
	
	
% Conceptual Spaces
	\newcommand{\ConvexrelCategory}{\definition{\catname{ConvexRel}}} % Category of Conceptual Spaces and Convex Relations
	\newcommand{\ConvexCategory}{\definition{\catname{Convex}}} % Category of Conceptual Spaces and Convex functions
	
	
	
% Others
	\newcommand{\SitesCategory}{\definition{\catname{Sites}}} % Category of small sites
	\newcommand{\fStochCategory}{\definition{\catname{fStoch}}} % Category of finite sets and stochastic maps
