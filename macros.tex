%%%% macros.tex by Stefano Gogioso
%%%% Version 26 Jan 2016 


%% Theorem environments - Comment out for certain journal submissions and for beamer 

\declaretheorem[name=Theorem, numberwithin=section]{theorem}
\declaretheorem[style=definition, name=Definition, sibling=theorem]{definition}
\declaretheorem[style=definition, name=Example, sibling=theorem]{example}
\declaretheorem[style=definition, name=Counterexample, sibling=theorem]{counterexample}	
\declaretheorem[style=definition, name=Remark, sibling=theorem]{remark}
\declaretheorem[name=Proposition, sibling=theorem]{proposition}
\declaretheorem[name=Lemma, sibling=theorem]{lemma}
\declaretheorem[name=Corollary, sibling=theorem]{corollary}	
%	%% Counters and miscellaneous
%		\newcounter{theorem_c} % Unified coutner for all theorem environments...
%		\numberwithin{theorem_c}{section} % ... numbered within sections
%		\numberwithin{equation}{section} % Equations are also numbered within sections (but have a separate counter)
%		\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}} % Numbering of individual equations in align* environments. Usage: \numberthis \label{eqn_EquationTitle}

%	%% Italic theorem environments
%		\theoremstyle{plain} 
%		\newtheorem{theorem}[theorem_c]{Theorem}
%		\newtheorem{kindatheorem}[theorem_c]{\textquotedblleft Theorem\textquotedblright}
%		\newtheorem{lemma}[theorem_c]{Lemma}
%		\newtheorem{corollary}[theorem_c]{Corollary}
%		\newtheorem{proposition}[theorem_c]{Proposition}
%
%	%% Plain-text theorem environments
%		\theoremstyle{definition}
%		\newtheorem{definition}[theorem_c]{Definition}
%		\newtheorem{example}[theorem_c]{Example}
%		\newtheorem{remark}[theorem_c]{Remark}
%


%% General 
	\newcommand{\emptyArg}{\,\underline{\hspace{6px}}\,} % Underscore for omitted, anonymous arguments
	\newcommand{\inlineQuote}[1]{\textquotedblleft #1\textquotedblright} % Left-right quotes surrounding #1
	\newcommand{\TODO}{\textbf{[TODO]}} % A bold TODO placeholder
	\newcommand{\citeTODO}[1]{\textbf{[#1]}} % A bold citation placeholder


%% Sets, groups and algebra
	\newcommand{\Powerset}[1]{\mathcal{P}(#1)} % Powerset of #1
	\newcommand{\naturals}{\mathbb{N}} % Set of natural numbers
	\newcommand{\integers}{\mathbb{Z}} % Set of interer numbers
	\newcommand{\rationals}{\mathbb{Q}} % Set of rational numbers
	\newcommand{\reals}{\mathbb{R}} % Set of real numbers
	\newcommand{\complexs}{\mathbb{C}} % Set of complex numbers
	\newcommand{\integersMod}[1]{\mathbb{Z}_{#1}} % Set/group/ring of integers mod #1
	\newcommand{\modclass}[2]{#1 \; (\text{mod } #2)} % Equivalence class of integers mod #2 corresponding to representative #1
	\newcommand{\restrict}[2]{\left. #1 \right\vert_{#2}} % Restriction of function/morphism #1 to subset/subobject #2
	\newcommand{\domain}[1]{\operatorname{dom}#1} % Domain of function/morphism #1
	\newcommand{\codomain}[1]{\operatorname{codom}#1} % Domain of function/morphism #1
	\newcommand{\support}[1]{\operatorname{supp}#1} % Domain of function/morphism #1
	\newcommand{\cosupport}[1]{\operatorname{cosupp}#1} % Domain of function/morphism #1
	\newcommand{\inject}{\hookrightarrow} % Set-theoretic injection
	\newcommand{\Irreps}[1]{\operatorname{Irr}[#1]} % Set of irreps for group #1
	\newcommand{\nonstd}[1]{^\star\!#1}
	\newcommand{\starNaturals}{\nonstd{\naturals}} % Set of non-standard naturals
	\newcommand{\starIntegers}{\nonstd{\integers}} % Set of non-standard integers
	\newcommand{\starRationals}{\nonstd{\rationals}} % Set of non-standard rationals
	\newcommand{\starComplexs}{\nonstd{\complexs}} % Set of non-standard complex numbers
	\newcommand{\starReals}{\nonstd{\reals}} % Set of non-standard realsnumbers
			
	\newcommand{\set}[1]{\{#1\}} 
	% Standard notation for sets.
	\newcommand{\cat}[1]{\mathcal{#1}}
	% Standard notation for categories
	\newcommand{\couple}[2]{(#1,#2)} 
	%Classical notation for set-theoretic couples
	\newcommand{\relation}[1]{#1} 
	% Relation between sets
	\newcommand{\closure}[1]{\operatorname{Cl}({#1})}
	%Standard notation for closure operators
	\newcommand{\congruenceclass}[2]{[#2]_{#1}}
	%Standard notation for congruence/equivalence classes
	\newcommand{\quotient}[2]{#1/#2} 
	%Quotient of algebraic structures		
 	\newcommand{\con}[1]{{\operatorname{Con}(#1)}} 
 	% Lattice of congruences of an algebraic structure
 	\newcommand{\substruct}[2]{{\operatorname{Sub}_{#1}(#2)}} % Set of subalgebras of a given algebra


%% Lattice Theory
	\newcommand{\lattice}[1]{#1} 
	% A Lattice 
	\newcommand{\latticebot}[1]{\bot_{#1}} 
	% Lattice bottom element
	\newcommand{\latticetop}[1]{\top_{#1}} 
	% Lattice top element
	\newcommand{\subjoinlattice}[2]{\operatorname{Sub}^{\vee}(#1)_{#1}} 
	% Join-sublattices of a lattice
	\newcommand{\latticeof}[1]{\mathcal{L}(#1)} 
	% The lattice of all substructures of a structure.
	\newcommand{\rank}[2]{{\rho_{#1}(#2)}} 
	% Rank of an element in a lattice.
	
%% Logic 
	\newcommand{\iffdef}{\stackrel{def}{\iff}} % If and only if (by definition)
	\newcommand{\iffdeftemp}{\stackrel{\Delta}{\iff}} % If and only if (by definition, but notation limited to section/context) 
	%\newcommand{\eqdef}{\stackrel{def}{=}} % Equal (by definition)
	\newcommand{\eqdef}{:=} % Equal (by definition)	
	\newcommand{\eqdeftemp}{\stackrel{\Delta}{=}} % Equal (by definition, but notation limited to section/context) 
	\newcommand{\imply}{\Rightarrow} % Implies
	%\newcommand{\suchthat}[2]{\left\{#1 \: \text{ s.t. } \: #2\right\}} % Set of elements #1 such that condition #2 holds 
	\newcommand{\suchthat}[2]{\left\{#1 \: \colon \: #2\right\}} % Set of elements #1 such that condition #2 holds 
	\newcommand{\turnstyle}{\models} % Entails


%% Topology, geometry and linear algebra 

	%% Inner products and traces
		\newcommand{\ket}[1]{\vert #1 \rangle} % Ket labelled #1
		\newcommand{\bra}[1]{\langle #1 \vert} % Bra labelled #1
		\newcommand{\braket}[2]{\langle #1 \vert #2 \rangle} % Inner product of bra labelled #1 with ket labelled #2
		\newcommand{\innerprod}[2]{\left( #1 , #2 \right)}
		\newcommand{\Dim}[1]{\operatorname{dim}#1} % Dimension of a space
		\newcommand{\Trace}[1]{\operatorname{Tr}[#1]} % Trace of an operator
		\newcommand{\pTrace}[4]{\operatorname{Tr}_{#2,#3}^{#4}[#1]} % Trace of an operator
		\newcommand{\Norm}[2]{|| #2 ||_{#1}} % #1-norm of #2
		\newcommand{\decohSym}{\operatorname{dec}} % Decoherence map symbol
		\newcommand{\decoh}[1]{\decohSym_{#1}} % Decoherence map (for a given observable)

	%% Kernels and images
		%\newcommand{\ker}[1]{\operatorname{ker}#1} % Kernel of a function
		\newcommand{\im}[1]{\operatorname{im}#1} % Image of a function
		\newcommand{\LinExt}[1]{\operatorname{LinExt}[#1]} % Linear extension of a function
		\newcommand{\RLinExt}[2]{#2\operatorname{-LinExt}[#1]} % R-linear extension of a function

	%% Sets and spans
		\newcommand{\neighborhoods}[1]{\mathfrak{N}_#1} % Set of neighborhoods of point #1
		\newcommand{\tangspace}[2]{T_{#1} \, #2} % Tangent space of point #2 in manifold #1
		\newcommand{\LinearEndoms}[1]{\operatorname{L}\left[#1\right]} % Set of linear endomorphisms of space #1
		\newcommand{\Span}[1]{\operatorname{Span}[#1]} % Span of element #1

		\newcommand{\Bounded}[1]{\operatorname{B}\left[#1\right]} % Space of bounded operators over #1
		\newcommand{\BoundedMaps}[2]{\operatorname{B}\big(#1,#2\big)} % Space of bounded operators over #1
		\newcommand{\LtwoSym}{\operatorname{L}^2} % Symbol for L2 spaces
		\newcommand{\Ltwo}[1]{\LtwoSym[#1]} % L2 space over space #1
		\newcommand{\ltwoSym}{\ell^2} % Symbol for l2 spaces
		\newcommand{\ltwo}[1]{\ltwoSym[#1]} % l2 space over space #1

	%% General purpose space names 
		\newcommand{\SpaceH}{\mathcal{H}} 
		\newcommand{\SpaceG}{\mathcal{G}}
		\newcommand{\SpaceK}{\mathcal{K}}
		\newcommand{\SpaceA}{\mathcal{A}}
		\newcommand{\SpaceB}{\mathcal{B}}


%% Category Theory 

	%% Morphisms 
		\newcommand{\isom}{\cong} % Isomorphism
		\newcommand{\iso}{\cong} % Another definition for isomorphism
		\newcommand{\epim}{\twoheadrightarrow} % Epimorphism
		\newcommand{\monom}{\rightarrowtail} % Monomorphism
		\newcommand{\id}[1]{id_{#1}} % Identity morphism of object #1
		\newcommand{\pushforward}[1]{#1_\star} % Pushforward associated with morphism #1
		\newcommand{\pullback}[1]{#1^\star} % Pullback associated with morphism #1

	%% Monoidal categories
		
		\newcommand{\tensor}{\otimes} % Monoidal tensor
		\newcommand{\tensorUnit}{I} % Monoidal tensor unit
		\newcommand{\cartesianTensor}{\times} % Cartesian product

	%% Homsets 
		\newcommand{\Hom}[3]{\operatorname{Hom}_{\,#1}\left[#2,#3\right]} % Set of morphisms in category #1 from object #2 to object #3
		\newcommand{\Nat}[3]{\operatorname{Nat}_{#1}[#2,#3]} % Set of natural transformations in functor category #1 from functor #2 to functor #3
		\newcommand{\Endoms}[2]{\operatorname{End}_{\,#1}\left[#2\right]} % Set of endomorphisms in category #1 for object #2
		\newcommand{\Automs}[2]{\operatorname{Aut}_{\,#1}\left[#2\right]} % Set of autoomorphisms in category #1 for object #2
		\newcommand{\Subobjs}[2]{\operatorname{Sub}_{#1}[#2]} % Set of subobjects (usually mono) in category #1 for object #2
		\newcommand{\Subsys}[2]{\operatorname{Subsys}_{#1}[#2]} % Set of subsystems (not necessarily mono) in category #1 for object #2
		\newcommand{\States}[2]{\operatorname{States}_{#1}[#2]} % Set of states in (monoidal) category #1 for object #2 

	%% Category operators and functors
	\newcommand{\obj}[1]{\operatorname{obj} \, #1} % Set of objects of category #1
	\newcommand{\OpCategory}[1]{#1^{\operatorname{op}}} % Op-category of category #1
	\newcommand{\CategoryObjs}[1]{\operatorname{obj} \, #1} % Another notatino for the set of objects of category #1
	\newcommand{\FullSubcat}[2]{\langle #2 \rangle_{#1}} % The full subcategory of #1 generated by #2
	\newcommand{\SliceCat}[2]{#1 / #2} % Slice category obtained from category #1 over objects #2
	\newcommand{\CosliceCat}[2]{#2 \backslash #1} % Co-slice category obtained from category #1 over objects #2
	\newcommand{\Symmetries}[1]{\Automs{#1}{\emptyArg}}  % Category of symmetries of objects of category #1
	\newcommand{\LocaleCategory}[1]{\mathcal{O}(#1)} % Locale category of topological space #1
	\newcommand{\CPMCategory}[1]{\operatorname{CPM}[#1]} % Selinger's CPM category
	\newcommand{\CPCategory}[1]{\operatorname{CP}[#1]} % Bob/Chris's conjugation-independent CP construction 
	\newcommand{\CPStarCategory}[1]{\operatorname{CP}^\star[#1]} % Chris's CP star construction 
	\newcommand{\ClassicalCategory}[1]{\operatorname{K}[#1]} % Category with the same morphisms of #1, but objects pairs (object, classical structure) 


%% Monadic dynamics

	\newcommand{\monad}{T} % General-purpose monad symbol
	\newcommand{\unit}[1]{\eta_{#1}} % Monad unit over object #1
	\newcommand{\mult}[1]{\mu_{#1}} % Monad multiplication over object #1

	\newcommand{\timeobj}{\mathbb{T}} % Time object for the monad
	\newcommand{\timeaction}{\nu} % Time-translation action of the time object over itself (for the non-uniform case)
	\newcommand{\timeunit}{\unit{}} % Initial time (unit for the time object)
	\newcommand{\timemult}{\mult{}} % Time-translation (multiplication for the time object)
	\newcommand{\timediag}{\delta} % Diagonal for the time object
	\newcommand{\timeerase}{\epsilon} % Erasure for the time object 
	\newcommand{\timeinversion}[1]{i_{#1}} % Time-inversion operation over object #1
	\newcommand{\timeinverse}{\timeinversion{}} % Time-inversion (antipode)
	\newcommand{\foliate}[1]{\operatorname{foliate}_{#1}} % Foliation map AxTB -> T(AxB)
	\newcommand{\cofoliate}[1]{\operatorname{foliate'}_{#1}} % Foliation map TAxB -> T(AxB)

	\newcommand{\freehistory}[1]{\operatorname{freehist}_{#1}} % Free history of subsystem #1
	\newcommand{\FreeHistories}[2]{\operatorname{FreeHists}_{#1}[#2]} % Set of free histories in category #1 for object #2
	\newcommand{\concretehistory}[2]{\operatorname{hist}^{#1}_{#2}} % Concrete history of sybsystem #2 under dynamic #1
	\newcommand{\ConcreteHistories}[2]{\operatorname{Hists}_{#1}[#2]} % Set of concrete histories in category #1 for object #2
	\newcommand{\ConcreteHistoriesEMCategory}[1]{\prescript{H}{}{#1}} % Eilenberg-Moore category of concrete histories

	\newcommand{\timegenerator}{\partial_t} % Generator for the time object
	\newcommand{\futurespan}[1]{\span{#1}^+} % Future span for state #1
	\newcommand{\pastspan}[1]{\span{#1}^-} % Past span for state #1
	\newcommand{\causalfuture}[2]{\operatorname{J}^+_{#1}[#2]} % Causal future for state #1
	\newcommand{\causalpast}[2]{\operatorname{J}^-_{#1}[#2]} % Causal past for state #1
	\newcommand{\dynamicGenerator}[2]{\restrict{#1}{#2}} % Restriction of propagator #1 to time state #2


%% Coarse-graining and sheaf theory

	\newcommand{\comonad}{U} % General-purpose comonad symbol
	\newcommand{\counit}[1]{\epsilon_{#1}} % Comonad counit over object #1
	\newcommand{\comult}[1]{\nu_{#1}} % Comonad comultiplication over object #1
	\newcommand{\comonadFrak}{\mathfrak{U}} % frakture comonad symbol
	\newcommand{\sheafOfEventsSym}{\mathcal{E}} % Sheaf of events symbol
	\newcommand{\sheafOfEvents}[1]{\sheafOfEventsSym[#1]} % Sheaf of events symbol
	\newcommand{\restrictionMap}[2]{\operatorname{res}^{#1}_{#2}} % Restriction map for the sheaf of events
	\newcommand{\distributionFunctorSym}[1]{\mathcal{D}_{#1}} % Functor of R-distributions (symbol)
	\newcommand{\distributionFunctor}[2]{\distributionFunctorSym{#1}[#2]} % Functor of R-distributions
	\newcommand{\presheafOfDistributionsSym}[1]{\distributionFunctorSym{#1}\sheafOfEventsSym} % presheaf of distributions (symbol)
	\newcommand{\presheafOfDistributions}[2]{\presheafOfDistributionsSym{#1}[#2]} % presheaf of distributions (functor)
	\newcommand{\supportSubpresheafSym}{\mathcal{S}} % support subpresheaf (symbol)
	\newcommand{\supportSubpresheaf}[1]{\supportSubpresheafSym[#1]} % support subpresheaf (functor)
	

%% Inline Symbols for CQM 

	%% X structure / group structure
	\newcommand{\Xcolour}{Red}
	\newcommand{\XdotSym}{\hbox{\input{Preambles/symbols/XdotSym.tex}}\!} % Dot
	\newcommand{\XmultSym}{\hbox{\input{Preambles/symbols/timemultSym.tex}}\!} % Multiplication
	\newcommand{\XcomultSym}{\hbox{\input{Preambles/symbols/timecomultSym.tex}}\!} % Comultiplication
	\newcommand{\XunitSym}{\hbox{\input{Preambles/symbols/timeunitSym.tex}}\!} % Unit
	\newcommand{\XcounitSym}{\hbox{\input{Preambles/symbols/timecounitSym.tex}}\!} % Counit
	\newcommand{\antipodeSym}{\hbox{\input{Preambles/symbols/antipodeSym.tex}}\!} % Antipode (group inverse)
	\newcommand{\kpoints}[1]{K_{#1}} % Classical points of a given observable
	\newcommand{\Xkpoints}{\kpoints{\XdotSym}} % Classical points for the X observable
	
	%% Z structure / point structure
	\newcommand{\Zcolour}{YellowGreen}
	\newcommand{\ZdotSym}{\hbox{\input{Preambles/symbols/ZdotSym.tex}}\!} % Dot
	\newcommand{\ZmultSym}{\hbox{\input{Preambles/symbols/timematchSym.tex}}\!} % Multiplication
	\newcommand{\ZcomultSym}{\hbox{\input{Preambles/symbols/timediagSym.tex}}\!} % Comultiplication
	\newcommand{\ZunitSym}{\hbox{\input{Preambles/symbols/timematchunitSym.tex}}\!} % Unit
	\newcommand{\ZcounitSym}{\hbox{\input{Preambles/symbols/trivialcharSym.tex}}\!} % Counit
	\newcommand{\Zkpoints}{\kpoints{\ZdotSym}} % Classical points for the Z observable

	%% alternative X structure / alternative group structure (e.g. for quotients)
	\newcommand{\Xaltcolour}{Purple}
	\newcommand{\XaltdotSym}{\hbox{\input{Preambles/symbols/XaltdotSym.tex}}\!}
	\newcommand{\XaltmultSym}{\hbox{\input{Preambles/symbols/internaltimemultSym.tex}}\!} % Multiplication
	\newcommand{\XaltcomultSym}{\hbox{\input{Preambles/symbols/internaltimecomultSym.tex}}\!} % Comultiplication
	\newcommand{\XaltunitSym}{\hbox{\input{Preambles/symbols/internaltimeunitSym.tex}}\!} % Unit
	\newcommand{\XaltcounitSym}{\hbox{\input{Preambles/symbols/internaltimecounitSym.tex}}\!} % Counit
	\newcommand{\Xaltkpoints}{\kpoints{\XaltdotSym}} % Classical points for the alternative X observable
	
	%% alternative Z structure / alternative point structure
	\newcommand{\Zaltcolour}{Cyan}
	\newcommand{\ZaltdotSym}{\hbox{\input{Preambles/symbols/ZaltdotSym.tex}}\!}
	\newcommand{\ZaltmultSym}{\hbox{\input{Preambles/symbols/internaltimematchSym.tex}}\!} % Multiplication
	\newcommand{\ZaltcomultSym}{\hbox{\input{Preambles/symbols/internaltimediagSym.tex}}\!} % Comultiplication
	\newcommand{\ZaltunitSym}{\hbox{\input{Preambles/symbols/internaltimematchunitSym.tex}}\!} % Unit
	\newcommand{\ZaltcounitSym}{\hbox{\input{Preambles/symbols/internaltrivialcharSym.tex}}\!} % Counit
	\newcommand{\Zaltkpoints}{\kpoints{\ZaltdotSym}} % Classical points for the alternative Z observable

	%% discrete structure (aliases the black structure)
	\newcommand{\Dcolour}{black}
	\newcommand{\DdotSym}{\hbox{\input{Preambles/symbols/DdotSym.tex}}\!} % Dot	
	\newcommand{\DcomultSym}{\hbox{\input{Preambles/symbols/DcomultSym.tex}}\!} % Comultiplication	
	\newcommand{\DmultSym}{\hbox{\input{Preambles/symbols/DmultSym.tex}}\!} % Multiplication
	\newcommand{\DcounitSym}{\hbox{\input{Preambles/symbols/DcounitSym.tex}}\!} % Counit
	\newcommand{\DunitSym}{\hbox{\input{Preambles/symbols/DunitSym.tex}}\!} % Unit

	%% X structure in B/W (black structure)
	\newcommand{\Xbwcolour}{black}
	\newcommand{\XbwdotSym}{\hbox{\input{Preambles/symbols/DdotSym.tex}}\!} % Dot	
	\newcommand{\XbwcomultSym}{\hbox{\input{Preambles/symbols/DcomultSym.tex}}\!} % Comultiplication	
	\newcommand{\XbwmultSym}{\hbox{\input{Preambles/symbols/DmultSym.tex}}\!} % Multiplication
	\newcommand{\XbwcounitSym}{\hbox{\input{Preambles/symbols/DcounitSym.tex}}\!} % Counit
	\newcommand{\XbwunitSym}{\hbox{\input{Preambles/symbols/DunitSym.tex}}\!} % Unit

	%% Z structure in B/W (white structure)
	\newcommand{\Zbwcolour}{white}
	\newcommand{\ZbwdotSym}{\hbox{\input{Preambles/symbols/ZbwdotSym.tex}}\!} % Dot	
	\newcommand{\ZbwcomultSym}{\hbox{\input{Preambles/symbols/ZbwcomultSym.tex}}\!} % Comultiplication	
	\newcommand{\ZbwmultSym}{\hbox{\input{Preambles/symbols/ZbwmultSym.tex}}\!} % Multiplication	
	\newcommand{\ZbwcounitSym}{\hbox{\input{Preambles/symbols/ZbwcounitSym.tex}}\!} % Counit
	\newcommand{\ZbwunitSym}{\hbox{\input{Preambles/symbols/ZbwunitSym.tex}}\!} % Unit
	\newcommand{\ZbwleftDecohSym}{\hbox{\input{Preambles/symbols/ZbwleftDecohSym.tex}}\!} % Left decoherence	
	\newcommand{\ZbwrightDecohSym}{\hbox{\input{Preambles/symbols/ZbwrightDecohSym.tex}}\!} % Right decoherence	

	%% Traces	
	\newcommand{\traceSym}{\hbox{\input{Preambles/symbols/traceSym.tex}}\!} % Trace symbol
	\newcommand{\trace}[1]{\traceSym_{#1}} % Trace
	\newcommand{\traceSymAlt}{\top} % Alternative trace symbol
	\newcommand{\traceAlt}[1]{\traceSymAlt_{#1}} % Alternative trace

	%% Unlabelled Preambles/symbols for controlled dynamics (algebras), projector-valued spectra (coalgebras), etx
	\newcommand{\algebraSym}{\hbox{\input{Preambles/symbols/algebraSym.tex}}\!\!}	% Gray algebra symbol (2 inputs, 1 output)
	\newcommand{\measurementSym}{\hbox{\input{Preambles/symbols/measurementSym.tex}}\!\!} % The adjoint of the algebra symbol
	\newcommand{\repSym}{\hbox{\input{Preambles/symbols/repSym.tex}}\!\!} % Internalised representation G -> H x H*
	\newcommand{\mapSym}{\hbox{\input{Preambles/symbols/mapSym.tex}}\!\!} % The same as the measurement symbol, but with white bg.
	\newcommand{\mapconjSym}{\hbox{\input{Preambles/symbols/mapconjSym.tex}}\!\!} % The conjugate of the map symbol.

	%% Arrowed arcs - WARNING: can cause "size" issues at compile time if arcs too small or crowded
	\tikzset{->-/.style={decoration={markings,mark=at position #1 with {\arrow{>}}},postaction={decorate}}}
	\tikzset{-<-/.style={decoration={markings,mark=at position #1 with {\arrow{<}}},postaction={decorate}}}